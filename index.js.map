{"version":3,"file":"index.js","sources":["../src/js/get.js","../src/js/post.js","../src/js/modal.js"],"sourcesContent":["const allBtn = document.getElementById('all-button');\n\nconst moviesContainer = document.getElementById('movies_container')\n\nallBtn.addEventListener('click', onAllButtonClick);\n\nconst BASE_URL = 'http://localhost:3000';\n\nasync function fetchMovies() {\n  const response = await fetch(`${BASE_URL}/movies`);\n  if (!response.ok) {\n    throw new Error('failed to fetch');\n  }\n  return await response.json()\n}\n\nasync function onAllButtonClick() {\n  try {\n    const movies = await fetchMovies()\n    renderMovies(movies)\n  } catch (error) {\n    console.error('failed to render')\n  }\n}\n\nfunction renderMovies(movies) {\n  const markUp = movies.map(({image, title, genre, year, id}) => `<li class=\"movies_item\">\n  <div class=\"\">\n      <img src=\"${image}\" alt=\"${title}\" class=\"movies_image\">\n      <h2 class=\"movies_title\"><b>Title:</b>${title}</h2>\n      <p class=\"movies_genre\"><b>genre:</b>${genre}</p>\n      <p class=\"movies_year\"><b>year:</b>${year}</p>\n  </div>\n  <div class=\"\">\n      <button type=\"button\" class=\"movies_item_button\" id=\"editBtn\">edit</button>\n      <button type=\"button\" class=\"movies_item_button\" id=\"${id}\">delete</button>\n  </div>\n</li>`).join('');\n\nmoviesContainer.insertAdjacentHTML('beforeend', markUp);\n}","const BASE_URL = 'http://localhost:3000';\n\nconst form = document.getElementById('form');\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction postMovie(newMovie) {\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(newMovie),\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n  };\n  return fetch(`${BASE_URL}/movies`, options).then(response => {\n    if (!response.ok) {\n      throw new Error('failed to fetch');\n    }\n    return response.json();\n  });\n}\n\nfunction onFormSubmit(e) {\n  const formData = new FormData(e.currentTarget);\n  const newMovie = {};\n  formData.forEach((value, key) => {\n    newMovie[key] = value;\n  })\n\n  postMovie(newMovie).then(() => {\n    alert('movie added');\n  }).catch(error => {\n    console.error('failed to add');\n  })\n}","const addButton = document.getElementById('add-button');\nconst closeButton = document.getElementById('close-modal-btn');\nconst modal = document.getElementById('modal');\n\naddButton.addEventListener('click', toggleModal);\ncloseButton.addEventListener('click', toggleModal);\n\nfunction toggleModal() {\n    modal.classList.toggle('is-hidden');\n}"],"names":["allBtn","moviesContainer","onAllButtonClick","BASE_URL","fetchMovies","response","movies","renderMovies","markUp","image","title","genre","year","id","form","onFormSubmit","postMovie","newMovie","options","e","formData","value","key","error","addButton","closeButton","modal","toggleModal"],"mappings":"ssBAAA,MAAMA,EAAS,SAAS,eAAe,YAAY,EAE7CC,EAAkB,SAAS,eAAe,kBAAkB,EAElED,EAAO,iBAAiB,QAASE,CAAgB,EAEjD,MAAMC,EAAW,wBAEjB,eAAeC,GAAc,CAC3B,MAAMC,EAAW,MAAM,MAAM,GAAGF,CAAQ,SAAS,EACjD,GAAI,CAACE,EAAS,GACZ,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAO,MAAMA,EAAS,KAAM,CAC9B,CAEA,eAAeH,GAAmB,CAChC,GAAI,CACF,MAAMI,EAAS,MAAMF,EAAa,EAClCG,EAAaD,CAAM,CACpB,MAAe,CACd,QAAQ,MAAM,kBAAkB,CACjC,CACH,CAEA,SAASC,EAAaD,EAAQ,CAC5B,MAAME,EAASF,EAAO,IAAI,CAAC,CAAC,MAAAG,EAAO,MAAAC,EAAO,MAAAC,EAAO,KAAAC,EAAM,GAAAC,CAAE,IAAM;AAAA;AAAA,kBAE/CJ,CAAK,UAAUC,CAAK;AAAA,8CACQA,CAAK;AAAA,6CACNC,CAAK;AAAA,2CACPC,CAAI;AAAA;AAAA;AAAA;AAAA,6DAIcC,CAAE;AAAA;AAAA,MAEzD,EAAE,KAAK,EAAE,EAEfZ,EAAgB,mBAAmB,YAAaO,CAAM,CACtD,CCxCA,MAAML,EAAW,wBAEXW,EAAO,SAAS,eAAe,MAAM,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASC,EAAUC,EAAU,CAC3B,MAAMC,EAAU,CACd,OAAQ,OACR,KAAM,KAAK,UAAUD,CAAQ,EAC7B,QAAS,CACP,eAAgB,iCACjB,CACL,EACE,OAAO,MAAM,GAAGd,CAAQ,UAAWe,CAAO,EAAE,KAAKb,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASU,EAAaI,EAAG,CACvB,MAAMC,EAAW,IAAI,SAASD,EAAE,aAAa,EACvCF,EAAW,CAAA,EACjBG,EAAS,QAAQ,CAACC,EAAOC,IAAQ,CAC/BL,EAASK,CAAG,EAAID,CACpB,CAAG,EAEDL,EAAUC,CAAQ,EAAE,KAAK,IAAM,CAC7B,MAAM,aAAa,CACvB,CAAG,EAAE,MAAMM,GAAS,CAChB,QAAQ,MAAM,eAAe,CACjC,CAAG,CACH,CClCA,MAAMC,EAAY,SAAS,eAAe,YAAY,EAChDC,EAAc,SAAS,eAAe,iBAAiB,EACvDC,EAAQ,SAAS,eAAe,OAAO,EAE7CF,EAAU,iBAAiB,QAASG,CAAW,EAC/CF,EAAY,iBAAiB,QAASE,CAAW,EAEjD,SAASA,GAAc,CACnBD,EAAM,UAAU,OAAO,WAAW,CACtC"}